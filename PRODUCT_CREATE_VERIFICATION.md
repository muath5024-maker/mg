# โ ุงูุชุญูู ุงูููุงุฆู - ุฅุถุงูุฉ ุงูููุชุฌ

## ๐ ุงูุชุญูู ูู ุงูุชุทุงุจู

### โ 1. Flutter โ Worker โ Edge Function โ Database

#### Flutter ูุฑุณู:
```dart
{
  'store_id': storeId,        // โ ูู StoreSession
  'name': '...',
  'description': '...',
  'price': 100.0,
  'stock': 10,                // โ
  'status': 'active',
  'is_active': true,
  'main_image_url': '...',    // ุฅุฐุง ููุฌูุฏุฉ
  'images': ['...']           // ุฅุฐุง ููุฌูุฏุฉ
}
```

#### Worker ูุถูู:
```typescript
{
  ...body,                    // โ ุงูุจูุงูุงุช ูู Flutter
  user_id: userId             // โ ูู JWT
}
```

#### Edge Function ุชุชููุน:
```typescript
{
  user_id: string,            // โ
  store_id?: string,          // โ
  name: string,               // โ
  description?: string,       // โ
  price: number,              // โ
  stock?: number,             // โ
  status?: string,            // โ
  is_active?: boolean,        // โ
  main_image_url?: string,    // โ
  images?: string[]           // โ
}
```

#### Database Schema:
```sql
products (
  store_id UUID,              // โ
  name TEXT,                  // โ
  description TEXT,           // โ
  price DECIMAL(10, 2),       // โ
  stock INTEGER,              // โ (ูุณุชุฎุฏู stock)
  status TEXT,                // โ
  main_image_url TEXT,        // โ
  image_url TEXT,             // โ (ููููุฃ ุชููุงุฆูุงู)
  ...
)
```

---

## โ ุงูุชุญูู ูู ุงูุฎุทูุงุช

### 1. โ ุงูุชุญูู ูู StoreSession
- [x] StoreSession ููุฌูุฏ ูู `lib/core/session/store_session.dart`
- [x] ูุณุฌู ูู MultiProvider ูู `lib/main.dart`
- [x] ูุชู ุฌูุจ `store_id` ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- [x] ูุชู ุญูุธ `store_id` ูู StoreSession

### 2. โ ุงูุชุญูู ูู Flutter Code
- [x] `merchant_products_screen.dart` ูุณุชุฎุฏู `StoreSession.storeId`
- [x] ูุชุญูู ูู ูุฌูุฏ ูุชุฌุฑ ูุจู ุงูุฅุถุงูุฉ
- [x] ูุฑุณู `store_id` ูู body
- [x] ูุฑุณู `stock` (ูุทุงุจู ุงูุณูููุง)
- [x] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ููุฌูุฏุฉ

### 3. โ ุงูุชุญูู ูู Worker Code
- [x] `/secure/products` POST endpoint ููุฌูุฏ
- [x] ูุณุชุฎุฑุฌ `userId` ูู JWT
- [x] ููุฑุฑ ุงูุจูุงูุงุช ุฅูู Edge Function
- [x] ูุถูู `user_id` ุชููุงุฆูุงู

### 4. โ ุงูุชุญูู ูู Edge Function
- [x] `product_create/index.ts` ููุฌูุฏ
- [x] ูุชุญูู ูู Internal Key
- [x] ูุชุญูู ูู `store_id` ุฅุฐุง ุชู ุฅุฑุณุงูู
- [x] ูุณุชุฎุฏู `stock` (ูุทุงุจู ุงูุณูููุง)
- [x] ูุนูุฏ ุงุณุชุฌุงุจุฉ ุตุญูุญุฉ

---

## ๐งช ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

### ุงูุณููุงุฑูู 1: ุฅุถุงูุฉ ููุชุฌ ุจุฏูู ุตูุฑุฉ โ

**ุงูุจูุงูุงุช:**
```json
{
  "name": "ููุชุฌ ุชุฌุฑูุจู",
  "description": "ูุตู ุงูููุชุฌ",
  "price": 99.99,
  "stock": 50
}
```

**ุงููุชููุน:**
- โ ุฑุณุงูุฉ ูุฌุงุญ
- โ ุงูููุชุฌ ูุธูุฑ ูู ุงููุงุฆูุฉ
- โ ุงูุจูุงูุงุช ูุญููุธุฉ ุจุดูู ุตุญูุญ

---

### ุงูุณููุงุฑูู 2: ุฅุถุงูุฉ ููุชุฌ ูุน ุตูุฑุฉ โ

**ุงูุจูุงูุงุช:**
```json
{
  "name": "ููุชุฌ ูุน ุตูุฑุฉ",
  "description": "ูุตู",
  "price": 149.50,
  "stock": 25,
  "main_image_url": "https://..."
}
```

**ุงููุชููุน:**
- โ ุฑุณุงูุฉ ูุฌุงุญ
- โ ุงูุตูุฑุฉ ูุญููุธุฉ
- โ ุงูููุชุฌ ูุธูุฑ ูุน ุงูุตูุฑุฉ

---

### ุงูุณููุงุฑูู 3: ุญุณุงุจ ุจุฏูู ูุชุฌุฑ โ

**ุงููุชููุน:**
- โ ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ:
  "ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุฌุฑ ููุฐุง ุงูุญุณุงุจ. ูุฑุฌู ุฅูุดุงุก ูุชุฌุฑ ุฃููุงู ูู ูุงุฆูุฉ 'ุฅุนุฏุงุฏ ุงููุชุฌุฑ'"

---

## ๐ง ุงูุชุญูู ูู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### โ ุชู ุฅุตูุงุญูุง:

1. **ุนุฏู ุชุทุงุจู ุงุณู ุงูุญูู:**
   - โ ูุงู: `stock_quantity`
   - โ ุงูุขู: `stock` (ูุทุงุจู ุงูุณูููุง)

2. **ุนุฏู ุงูุชุญูู ูู store_id:**
   - โ ุงูุขู: ูุชู ุงูุชุญูู ูู ุฃู `store_id` ูุฎุต ุงููุณุชุฎุฏู

3. **ุนุฏู ุงุณุชุฎุฏุงู StoreSession:**
   - โ ุงูุขู: ุฌููุน ุงูุนูููุงุช ุชุณุชุฎุฏู `StoreSession.storeId`

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ูู ุดูุก ุฌุงูุฒ:

1. โ Flutter ูุฑุณู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
2. โ Worker ููุฑุฑ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
3. โ Edge Function ุชุชุญูู ูุชุถูู ุงูููุชุฌ
4. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุณุชูุจู ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
5. โ ุฌููุน ุงูุญููู ูุชุทุงุจูุฉ

---

## ๐ ุฌุงูุฒ ููุงุฎุชุจุงุฑ!

ููููู ุงูุขู:
1. ุชุดุบูู ุงูุชุทุจูู
2. ุชุณุฌูู ุงูุฏุฎูู ูุชุงุฌุฑ
3. ูุชุญ ุดุงุดุฉ ุงูููุชุฌุงุช
4. ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ
5. ุงูุชุญูู ูู ุงููุชูุฌุฉ

---

**ุชุงุฑูุฎ ุงูุชุญูู:** ููุงูุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ

